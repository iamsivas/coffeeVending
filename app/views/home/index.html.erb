<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		#toast-container > div {
    	opacity:1;
		}
	</style>
</head>

<body>
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-center">
	  <ul class="navbar-nav">
	    <li class="nav-item active">
	    	<h3 class="nav-link">Coffee Vending Machine</h3>
	    </li>
	  </ul>
	</nav>

	<div class="container" style="margin-top: 10%;">
		<div class="card-deck">
	    <div class="card bg-primary" onclick="selectItem('black_coffee')" style="cursor: pointer;">
	      <div class="card-body text-center">
	        <p class="card-text"><h5 class="text-white">Black Coffee</h5></p>
	      </div>
	    </div>
	    <div class="card bg-warning" onclick="selectItem('milk_coffee')" style="cursor: pointer;">
	      <div class="card-body text-center">
	        <p class="card-text"><h5 class="text-white">Coffee with Milk</h5></p>
	      </div>
	    </div>
	    <div class="card bg-success" onclick="selectItem('black_coffee_sugar')" style="cursor: pointer;">
	      <div class="card-body text-center">
	        <p class="card-text"><h5 class="text-white">Black Coffee<br>Sugarless</h5></p>
	      </div>
	    </div>
	    <div class="card bg-danger" onclick="selectItem('milk_coffee_sugar')" style="cursor: pointer;">
	      <div class="card-body text-center">
	        <p class="card-text"><h5 class="text-white">Coffee with Milk<br>Sugarless</h5></p>
	      </div>
	    </div>  
	  </div>
	</div>

	<div class="container" style="margin-top: 10%;">
		<a href="<%= new_home_url %>" class="btn btn-primary">Add Item Count</a>
	</div>

	<script type="text/javascript">
		function selectItem(item){
			$.ajax({
				type: 'post',
				url: '/item_order',
				data: {order_item : item},
				dataType: 'json',
				success : function(response){
					if (response.includes(0)){
						toastr.error('Not enough recipes!', 'Sorry');
					}else{
						toastr.success('Have your nice Coffee!', 'Success');
					}					
				}
			});
		}
	</script>
</body>
</html>